<?xml version="1.0" encoding="UTF-8"?>
<menuDocument>
    <menu>

        <addScriptItem id="hammer_select_font">
            <label>Select Font...</label>
            <parent>root_menu</parent>
            <insertBefore/>
            <context>
                <networkCategory>Sop,Cop2</networkCategory>
                <expression>
                    parms = kwargs['parms']
                    if parms:
                        parm = parms[0]
                        if parm.name() == 'font' or parm.description().lower() == 'font':
                            return 1
                    return 0
                </expression>
            </context>
            <scriptCode>
import hdefereval

from hammer_tools.select_font import select

parm = kwargs['parms'][0]
hdefereval.executeDeferred(lambda: select(parm))
            </scriptCode>
        </addScriptItem>

    </menu>
</menuDocument>
